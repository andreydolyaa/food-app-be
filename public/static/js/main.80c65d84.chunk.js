(this.webpackJsonpfooders=this.webpackJsonpfooders||[]).push([[0],{47:function(e,t,c){},71:function(e,t,c){},72:function(e,t,c){},74:function(e,t,c){},75:function(e,t,c){},76:function(e,t,c){},77:function(e,t,c){},79:function(e,t,c){},80:function(e,t,c){},81:function(e,t,c){},82:function(e,t,c){},83:function(e,t,c){},84:function(e,t,c){},85:function(e,t,c){},86:function(e,t,c){},87:function(e,t,c){},88:function(e,t,c){},89:function(e,t,c){"use strict";c.r(t);var s=c(0),n=c(1),r=c.n(n),a=c(23),i=c.n(a),l=c(9),u=c(6),j=c(7),o=(c(47),c(4)),d=c(2),b=c.n(d),O=c(3),h=c(14),p=c.n(h),f="/api/restaurants",x={query:function(){return m.apply(this,arguments)},getById:function(e){return v.apply(this,arguments)}};function m(){return(m=Object(O.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get(f);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(){return(v=Object(O.a)(b.a.mark((function e(t){var c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("".concat(f,"/").concat(t));case 2:return c=e.sent,e.abrupt("return",c.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}c(71),c(72);function g(e){var t=e.rest;return Object(s.jsx)("div",{className:"rest-preview",children:Object(s.jsxs)("li",{children:[Object(s.jsx)("h2",{children:t.name}),Object(s.jsx)("img",{src:t.place_img}),Object(s.jsxs)("div",{className:"order-btn",children:[Object(s.jsx)("p",{children:t.description}),Object(s.jsx)(u.b,{to:"/restaurant/".concat(t._id),children:Object(s.jsx)("button",{children:"Visit"})})]})]})})}function N(e){var t=e.restaurants;return Object(s.jsx)("ul",{className:"rest-list",children:t.map((function(e){return Object(s.jsx)(g,{rest:e},e._id)}))})}c(74);var w=c.p+"static/media/res.5c20c442.jpg";function y(){return Object(s.jsxs)("div",{className:"hero-img",children:[Object(s.jsx)("h1",{}),Object(s.jsxs)("h2",{children:[Object(s.jsx)("span",{children:"FooderPlace"})," All the best restaurants in one place."]}),Object(s.jsxs)("button",{className:"btn-3",children:[Object(s.jsx)("span",{children:"F"}),"OOD",Object(s.jsx)("span",{children:" N"}),"OW "]}),Object(s.jsx)("img",{src:w})]})}c(75);function S(){return Object(s.jsxs)("div",{className:"app-footer",children:[Object(s.jsx)("div",{children:Object(s.jsxs)("ul",{children:[Object(s.jsx)("li",{children:"About Us"}),Object(s.jsx)("li",{children:"Restaurants"}),Object(s.jsx)("li",{children:"Contact Us"})]})}),Object(s.jsx)("div",{children:Object(s.jsxs)("ul",{children:[Object(s.jsx)("li",{children:"Careers"}),Object(s.jsx)("li",{children:"About Developer"}),Object(s.jsx)("li",{children:"More Code"})]})}),Object(s.jsx)("div",{className:"social",children:Object(s.jsxs)("ul",{children:[Object(s.jsx)("li",{children:Object(s.jsxs)("a",{className:"linkedin",href:"https://www.linkedin.com/in/andrey-dolya-250130203/",children:[Object(s.jsx)("i",{class:"fab fa-linkedin-in"}),"Linkedin"]})}),Object(s.jsx)("li",{children:Object(s.jsxs)("a",{className:"github",href:"https://github.com/andreydolyaa",children:[Object(s.jsx)("i",{class:"fab fa-github"}),"GitHub"]})}),Object(s.jsx)("li",{children:Object(s.jsxs)("a",{className:"facebook",href:"https://facebook.com",children:[Object(s.jsx)("i",{class:"fab fa-facebook"}),"Facebook"]})})]})})]})}function k(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.restaurantReducer.restaurants}));return Object(n.useEffect)((function(){e(function(){var e=Object(O.a)(b.a.mark((function e(t){var c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.query();case 2:c=e.sent,t({type:"SET_RESTAURANTS",restaurants:c});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(s.jsxs)("div",{children:[Object(s.jsx)(y,{}),Object(s.jsx)(N,{restaurants:t})]})}var E=c(8);c(76),c(77);function _(e){var t=Object(n.useState)([]),c=Object(E.a)(t,2),r=(c[0],c[1],Object(n.useState)(0)),a=Object(E.a)(r,2),i=a[0],l=a[1],j=Object(o.c)((function(e){return e.cartReducer.cart}));Object(n.useEffect)((function(){var e=j.reduce((function(e,t){return e+t.price}),0);l(e)}),[]);var d=function(){e.close()};return j&&Object(s.jsxs)("div",{className:"cart",children:[Object(s.jsxs)("div",{className:"close-cart",children:[Object(s.jsx)("h3",{children:"Your order list -"}),Object(s.jsx)("i",{onClick:d,className:"fas fa-times"})]}),Object(s.jsxs)("ul",{children:[j.map((function(e,t){return Object(s.jsxs)("li",{children:[Object(s.jsx)("p",{children:e.name}),Object(s.jsxs)("p",{children:["$",e.price]})]},t)})),j.length>0&&Object(s.jsxs)("div",{className:"done",children:[Object(s.jsx)(u.b,{onClick:d,className:"to-checkout",to:{pathname:"/checkout",totalPrice:i,props:e},children:"Proceed to checkout"}),Object(s.jsxs)("p",{children:["Total: $",i]})]}),0===j.length&&Object(s.jsxs)("div",{className:"empty-cart",children:[Object(s.jsxs)("h4",{children:["Your cart is empty ",Object(s.jsx)("i",{className:"fas fa-shopping-cart"})]}),Object(s.jsx)(u.b,{onClick:d,className:"find-res",to:"/",children:"Find your favorite restaurant"})]})]})]})}var T=c(40),R=c.n(T),C="/api/auth",A="/api/user",I={signup:function(e){return Y.apply(this,arguments)},login:function(e){return M.apply(this,arguments)},query:F,getById:function(e){return D.apply(this,arguments)},logout:function(){return B.apply(this,arguments)},getUserByEmail:function(e){return q.apply(this,arguments)},updatePurchaseHistory:function(e,t,c,s){return U.apply(this,arguments)}};function F(){return P.apply(this,arguments)}function P(){return(P=Object(O.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get(A);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(){return(q=Object(O.a)(b.a.mark((function e(t){var c,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F();case 2:if(c=e.sent,s=c.data.find((function(e){return e.email===t})),""!==sessionStorage.user){e.next=8;break}return e.abrupt("return",null);case 8:return e.abrupt("return",s);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(){return(U=Object(O.a)(b.a.mark((function e(t,c,s,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.push(R()().format("dddd, MMMM Do YYYY, h:mm:ss a")),c.push(n),L(s,"name","restName"),c.push(s),t.orders.push(c),e.next=7,p.a.put("".concat(A,"/").concat(t._id),t);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e,t,c){e[c]=e[t],delete e[t]}function D(){return(D=Object(O.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("".concat(A,"/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(){return(M=Object(O.a)(b.a.mark((function e(t){var c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.post("".concat(C,"/login"),t);case 2:return c=e.sent,e.abrupt("return",H(c.data));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(){return(Y=Object(O.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.orders=[],e.next=3,p.a.post("".concat(C,"/signup"),t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(){return(B=Object(O.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.post("".concat(C,"/logout"));case 2:sessionStorage.clear();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(e){return sessionStorage.setItem("user",JSON.stringify(e)),e}function $(e){return function(){var t=Object(O.a)(b.a.mark((function t(c){var s;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("ACTION USRR ID ,",e),t.next=3,I.getById(e);case 3:s=t.sent,console.log("ACTION USER GETBYID",s.data),c({type:"SET_USER",user:s.data});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function G(e){var t=Object(n.useState)(!1),c=Object(E.a)(t,2),r=c[0],a=c[1],i=Object(n.useState)(!1),l=Object(E.a)(i,2),d=l[0],b=l[1],O=Object(j.f)(),h=Object(o.c)((function(e){return e.cartReducer.cartItems})),p=Object(o.c)((function(e){return e.userReducer.user})),f=Object(o.b)();Object(n.useEffect)((function(){console.log(e),window.addEventListener("scroll",(function(){return b(!1)}))}),[]);var x=function(){a(r=!r)},m=function(){I.logout(),f((function(e){e({type:"LOGOUT"})}))};return Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{className:"app-header",children:[Object(s.jsx)("div",{onClick:function(){O.push("/")},className:"logo",children:Object(s.jsxs)("h1",{children:["fooder",Object(s.jsx)("span",{children:"Place"})]})}),Object(s.jsxs)("div",{className:"links",children:[Object(s.jsx)(u.c,{to:"",children:"About"}),Object(s.jsx)(u.c,{to:"",children:"Restaurants"}),Object(s.jsx)(u.c,{to:"",children:"Order"}),Object(s.jsx)(u.c,{to:"",children:"Explore"}),Object(s.jsx)(u.c,{to:"",children:"Contact"})]}),!p&&Object(s.jsxs)("div",{className:"user-icons",children:[Object(s.jsx)("div",{className:"cart-num",children:h}),Object(s.jsx)("i",{onClick:x,className:"fas fa-shopping-bag"}),Object(s.jsx)("i",{className:"fas fa-search"}),Object(s.jsx)(u.b,{className:"sign",to:"/login",children:"Sign In"}),Object(s.jsx)("p",{children:"|"}),Object(s.jsx)(u.b,{className:"sign",to:"/signup",children:"Register"})]}),p&&p&&Object(s.jsxs)("div",{className:"logged-user",children:[Object(s.jsxs)("div",{className:"ics",children:[Object(s.jsx)("div",{className:"cart-num",children:h}),Object(s.jsx)("i",{onClick:x,className:"fas fa-shopping-bag"})]}),Object(s.jsx)(u.b,{className:"user-profile",to:"/user-details",children:Object(s.jsxs)("p",{children:["Hi, ",p.username,Object(s.jsx)("i",{className:"fas fa-user-circle"})]})}),Object(s.jsx)(u.b,{className:"logout",to:"/",children:Object(s.jsxs)("p",{onClick:m,children:["Logout ",Object(s.jsx)("i",{className:"fas fa-sign-out-alt"})]})})]}),r&&Object(s.jsx)(_,{close:function(){a(!1)}}),Object(s.jsx)("div",{className:"bars-btn",children:Object(s.jsx)("button",{onClick:function(){b(d=!d)},children:Object(s.jsx)("i",{className:"fas fa-bars"})})})]}),Object(s.jsxs)("div",{className:d?"show mobile-nav":"hide mobile-nav",children:[Object(s.jsxs)("div",{className:"mobile-links",children:[Object(s.jsx)(u.c,{to:"",children:"About"}),Object(s.jsx)(u.c,{to:"",children:"Restaurants"}),Object(s.jsx)(u.c,{to:"",children:"Order"}),Object(s.jsx)(u.c,{to:"",children:"Explore"}),Object(s.jsx)(u.c,{to:"",children:"Contact"})]}),Object(s.jsxs)("div",{className:"mobile-login",children:[!p&&Object(s.jsxs)("div",{className:"user-icons",children:[Object(s.jsx)("div",{className:"cart-num",children:h}),Object(s.jsx)("i",{onClick:x,className:"fas fa-shopping-bag"}),Object(s.jsx)(u.b,{className:"sign",to:"/login",children:"Sign In"}),Object(s.jsx)("p",{children:"|"}),Object(s.jsx)(u.b,{className:"sign",to:"/signup",children:"Register"})]}),p&&p&&Object(s.jsxs)("div",{className:"logged-user",children:[Object(s.jsxs)("div",{className:"ics",children:[Object(s.jsx)("div",{className:"cart-num",children:h}),Object(s.jsx)("i",{onClick:x,className:"fas fa-shopping-bag"})]}),Object(s.jsx)(u.b,{className:"user-profile",to:"/user-details",children:Object(s.jsxs)("p",{children:["Hi, ",p.username,Object(s.jsx)("i",{className:"fas fa-user-circle"})]})}),Object(s.jsx)(u.b,{className:"logout",to:"/",children:Object(s.jsxs)("p",{onClick:m,children:["Logout ",Object(s.jsx)("i",{className:"fas fa-sign-out-alt"})]})})]})]})]})]})}c(79);var J={restaurants:[],restaurant:null};c(80);function V(e){var t=e.restaurant;return t?Object(s.jsxs)("div",{className:"rest-features",children:[t.place_features.accessible?Object(s.jsxs)("p",{className:t.place_features.accessible?"allowed":"notAllowed",children:[Object(s.jsx)("i",{className:"fas fa-wheelchair"})," Restaurant is accessible"]}):null,!1===t.place_features.smoking?Object(s.jsxs)("p",{className:!1===t.place_features.smoking?"notAllowed":"allowed",children:[Object(s.jsx)("i",{className:"fas fa-smoking-ban"})," Smoking is not allowed"]}):null,t.place_features.outside?Object(s.jsxs)("p",{className:t.place_features.outside?"allowed":"notAllowed",children:[Object(s.jsx)("i",{className:"fas fa-tree"})," Sitting outside"]}):null,t.place_features.airConitioner?Object(s.jsxs)("p",{className:t.place_features.airConitioner?"allowed":"notAllowed",children:[Object(s.jsx)("i",{className:"fas fa-thermometer-three-quarters"})," Air conditioning"]}):null,t.place_features.specialEvents?Object(s.jsxs)("p",{className:t.place_features.specialEvents?"allowed":"notAllowed",children:[Object(s.jsx)("i",{className:"far fa-calendar-alt"})," Special Events"]}):null,t.place_features.preOrderSeats?Object(s.jsxs)("p",{className:t.place_features.preOrderSeats?"allowed":"notAllowed",children:[Object(s.jsx)("i",{className:"fas fa-phone"})," Preorder table/s is possible"]}):null,t.place_features.takeAway?Object(s.jsxs)("p",{className:t.place_features.takeAway?"allowed":"notAllowed",children:[Object(s.jsx)("i",{className:"fas fa-box"})," Take away"]}):null,t.place_features.deliveries?Object(s.jsxs)("p",{className:t.place_features.deliveries?"allowed":"notAllowed",children:[Object(s.jsx)("i",{className:"fas fa-shipping-fast"})," Home deliveries"]}):null]}):Object(s.jsx)("div",{})}c(81);function W(e){return function(t){t({type:"SET_CART",products:e})}}function X(e){return function(t){t({type:"SET_ITEMS_NUM",num:e})}}c(82);function z(e){var t=e.dishes,c=Object(n.useState)(""),r=Object(E.a)(c,2),a=r[0],i=r[1];return Object(n.useEffect)((function(){if(1===t.length&&i(t[0].name),t.length>1){var e=t[t.length-1];i(e.name)}}),[]),Object(s.jsx)("div",{className:"msg",children:Object(s.jsxs)("p",{children:[a," Added!"]})})}function K(e){var t,c=e.restaurant,r=Object(n.useState)([]),a=Object(E.a)(r,2),i=a[0],l=a[1],u=Object(n.useState)(!1),j=Object(E.a)(u,2),d=j[0],b=j[1],O=Object(o.b)(),h=function(e){var t=0;return i.forEach((function(c){return c.name===e.name?t++:null})),t},p=function(){O(W(i)),O(X(i.length)),f()},f=function(){b(!0),t=setInterval((function(){b(!1),clearInterval(t)}),2e3)};return c?Object(s.jsxs)("ul",{className:"rest-menu",children:[c.menu.map((function(e,t){return Object(s.jsxs)("li",{children:[Object(s.jsxs)("div",{children:[Object(s.jsx)("h4",{children:e.name}),Object(s.jsx)("img",{src:e.img}),Object(s.jsx)("p",{children:e.description})]}),Object(s.jsxs)("div",{className:"dish-info",children:[Object(s.jsxs)("p",{children:["Dish size - ",e.amount]}),Object(s.jsxs)("p",{children:["$",e.price," / Serve"]}),Object(s.jsxs)("div",{className:"dish-num",children:[Object(s.jsx)("button",{className:"add-btn",onClick:function(){return function(e){i.push(e),l(i)}(e)},children:Object(s.jsx)("i",{className:"far fa-plus-square"})}),Object(s.jsx)("p",{children:h(e)}),Object(s.jsx)("button",{className:"add-btn",onClick:function(){return function(e){var t=i.findIndex((function(t){return t.name===e.name}));-1!==t&&i.splice(t,1),l(i)}(e)},children:Object(s.jsx)("i",{className:"far fa-minus-square"})})]}),Object(s.jsx)("button",{onClick:p,children:"add"})]})]},t)})),d&&Object(s.jsx)(z,{dishes:i})]}):Object(s.jsx)("div",{})}function Q(e){var t=Object(o.c)((function(e){return e.restaurantReducer.restaurant})),c=Object(o.b)();return Object(n.useEffect)((function(){var t;c((t=e.match.params.id,function(){var e=Object(O.a)(b.a.mark((function e(c){var s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.getById(t);case 2:s=e.sent,c({type:"SET_RESTAURANT",restaurant:s});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}),[t]),Object(s.jsxs)("div",{className:"rest-details-main",children:[t&&Object(s.jsxs)("div",{className:"rest-details",children:[Object(s.jsx)("div",{className:"rest-img",children:Object(s.jsx)("img",{src:t.place_img})}),Object(s.jsxs)("div",{className:"rest-desc",children:[Object(s.jsx)("h1",{children:t.name}),Object(s.jsx)("h3",{children:t.description}),Object(s.jsxs)("p",{children:["Adress: ",t.location]}),Object(s.jsxs)("p",{children:["Phone: ",t.phone]}),Object(s.jsx)("p",{children:"Opening Hours -"}),t.opening_hours.map((function(e){return Object(s.jsxs)("p",{children:[Object.keys(e),": ",Object.values(e)]},Object.keys(e))}))]})]}),Object(s.jsx)(V,{restaurant:t}),t&&Object(s.jsx)(K,{restaurant:t})]})}var Z=Object(j.g)((function(e){var t=e.history;return Object(n.useEffect)((function(){var e=t.listen((function(){window.scrollTo(0,0)}));return function(){e()}}),[]),null})),ee=(c(83),c(20)),te="/submitOrder",ce={submitOrder:function(e,t,c){return se.apply(this,arguments)}};function se(){return(se=Object(O.a)(b.a.mark((function e(t,c,s){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={userDetails:t,orderDetails:c,totalPrice:s},e.next=3,p.a.post(te,n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ne=null;sessionStorage.user&&(ne=JSON.parse(sessionStorage.user));var re={user:ne,isLoggedIn:!1};function ae(e){var t=Object(ee.a)(),c=t.register,r=t.handleSubmit,a=Object(o.c)((function(e){return e.cartReducer.cart})),i=Object(o.c)((function(e){return e.userReducer.user})),l=Object(o.c)((function(e){return e.restaurantReducer.restaurant})),u=Object(o.b)();Object(n.useEffect)((function(){i&&u($(i._id))}),[]);var j=function(){var t=Object(O.a)(b.a.mark((function t(c){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(ce.submitOrder(c,a,e.location.totalPrice),!i){t.next=4;break}return t.next=4,I.updatePurchaseHistory(i,a,l,e.location.totalPrice);case 4:e.history.push("/order-process");case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(s.jsx)("div",{children:Object(s.jsxs)("div",{className:"checkout",children:[Object(s.jsxs)("div",{className:"checkout-ul",children:[Object(s.jsx)("h2",{children:"Your Order - "}),a.map((function(e,t){return Object(s.jsxs)("div",{className:"checkout-list",children:[Object(s.jsx)("img",{src:e.img}),Object(s.jsx)("p",{children:e.name}),Object(s.jsxs)("p",{children:["$",e.price]})]},t)})),Object(s.jsxs)("h3",{children:["Total price: $",e.location.totalPrice]})]}),Object(s.jsxs)("form",{className:"user-details",onSubmit:r(j),children:[Object(s.jsxs)("label",{htmlFor:"firstName",children:["First Name:",Object(s.jsx)("input",{name:"firstName",type:"text",required:!0,ref:c})]}),Object(s.jsxs)("label",{htmlFor:"lastName",children:["Last Name:",Object(s.jsx)("input",{name:"lastName",type:"text",required:!0,ref:c})]}),Object(s.jsxs)("label",{htmlFor:"adress",children:["Adress:",Object(s.jsx)("input",{name:"adress",type:"text",required:!0,ref:c})]}),Object(s.jsxs)("label",{htmlFor:"email",children:["Email:",Object(s.jsx)("input",{name:"email",type:"text",required:!0,ref:c})]}),Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("h3",{children:"Payment Details"}),Object(s.jsxs)("label",{htmlFor:"card",children:["Card Number:",Object(s.jsx)("input",{name:"card",type:"number",required:!0,placeholder:"Card Number",ref:c})]}),Object(s.jsxs)("label",{htmlFor:"date",children:["Exp.Date:",Object(s.jsx)("input",{name:"date",type:"number",required:!0,placeholder:"MM/YY",ref:c})]}),Object(s.jsxs)("label",{htmlFor:"ccv",children:["CCV:",Object(s.jsx)("input",{name:"ccv",type:"number",required:!0,placeholder:"CCV",ref:c})]})]}),Object(s.jsx)("button",{children:"Submit Order"})]})]})})}c(84);var ie=c.p+"static/media/ba35a8698540a7984ef78f470559aa31.363d2eec.gif";var le=function(e){var t,c=Object(o.b)();return Object(n.useEffect)((function(){return c(W([])),c(X(0)),t=setInterval((function(){e.history.push("/")}),3e3),function(){clearInterval(t)}}),[]),Object(s.jsxs)("div",{className:"loading",children:[Object(s.jsx)("h1",{children:"Your order is sent, redirecting..."}),Object(s.jsx)("img",{src:ie}),Object(s.jsx)("h2",{})]})};c(85);function ue(e){var t=Object(ee.a)(),c=t.register,n=t.handleSubmit,r=(Object(o.b)(),function(){var t=Object(O.a)(b.a.mark((function t(c){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I.signup(c);case 2:e.history.push("/login");case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());return Object(s.jsxs)("div",{className:"signup",children:[Object(s.jsx)("div",{className:"new-user",children:Object(s.jsx)("h2",{children:"Register new user"})}),Object(s.jsxs)("form",{onSubmit:n(r),children:[Object(s.jsxs)("label",{htmlFor:"fullName",children:["* Fullname:",Object(s.jsx)("input",{name:"fullName",type:"text",required:!0,ref:c})]}),Object(s.jsxs)("label",{htmlFor:"password",children:["* Password:",Object(s.jsx)("input",{name:"password",type:"password",required:!0,ref:c})]}),Object(s.jsxs)("label",{htmlFor:"email",children:["* Email:",Object(s.jsx)("input",{name:"email",type:"text",required:!0,ref:c})]}),Object(s.jsx)("button",{children:"Register"})]})]})}c(86);var je=c.p+"static/media/comment.b2980a0c.svg";function oe(e){var t=Object(ee.a)(),c=t.register,r=t.handleSubmit,a=Object(n.useState)(!1),i=Object(E.a)(a,2),l=i[0],u=i[1],j=Object(n.useState)(!1),d=Object(E.a)(j,2),h=d[0],p=d[1],f=Object(o.b)(),x=function(){var t=Object(O.a)(b.a.mark((function t(c){var s;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I.login(c);case 2:if('""'===sessionStorage.user){t.next=7;break}p(!0),s=setInterval(Object(O.a)(b.a.mark((function t(){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return p(!1),console.log("SESSION STORAGE ",sessionStorage),t.next=4,I.getUserByEmail(c.email);case 4:n=t.sent,f($(n._id)),e.history.push("/"),clearInterval(s);case 8:case"end":return t.stop()}}),t)}))),1500),t.next=10;break;case 7:return u(!0),s=setInterval((function(){u(!1),clearInterval(s)}),2e3),t.abrupt("return",console.log("wrong pw/un"));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(s.jsxs)("div",{className:"login",children:[Object(s.jsx)("div",{className:"new-user",children:Object(s.jsx)("h2",{children:"Sign In"})}),Object(s.jsxs)("form",{onSubmit:r(x),children:[Object(s.jsxs)("label",{htmlFor:"email",children:["* Email:",Object(s.jsx)("input",{name:"email",type:"text",required:!0,ref:c})]}),Object(s.jsxs)("label",{htmlFor:"password",children:["* Password:",Object(s.jsx)("input",{name:"password",type:"password",required:!0,ref:c})]}),Object(s.jsx)("button",{children:"Login"})]}),l&&Object(s.jsx)("h3",{className:"wrong-pass",children:"Wrong Password or Email"}),h&&Object(s.jsxs)("div",{className:"gg",children:[Object(s.jsx)("h3",{className:"good-pass",children:"Successfully Logged In"}),Object(s.jsx)("img",{src:je})]})]})}c(87);function de(e){var t=Object(o.c)((function(e){return e.userReducer.user})),c=Object(o.b)();return Object(n.useEffect)((function(){console.log(e),t&&c($(t._id))}),[]),Object(s.jsxs)("div",{className:"user-details",children:[Object(s.jsxs)("div",{className:"welcome-msg",children:[Object(s.jsxs)("h1",{children:["Hello, ",t.username,"!"]}),Object(s.jsx)("h3",{children:"Your Purchase History"})]}),t.orders.map((function(e,t){return Object(s.jsxs)("div",{className:"order-list",children:[Object(s.jsxs)("h4",{children:["Purchase Date: ",e[e.length-3]," ",Object(s.jsxs)("span",{children:["At: ",e[e.length-1].restName]})]}),e.map((function(e,t){return e.name&&Object(s.jsxs)("div",{className:"order-history",children:[Object(s.jsx)("p",{children:e.name}),Object(s.jsxs)("p",{children:["$",e.price]})]},t)})),Object(s.jsxs)("p",{className:"total-history",children:["Total: $",e[e.length-2]]})]},t)}))]})}function be(e){return Object(s.jsx)("div",{className:"App",children:Object(s.jsxs)(u.a,{children:[Object(s.jsx)(G,{}),Object(s.jsx)(Z,{}),Object(s.jsxs)(j.c,{children:[Object(s.jsx)(j.a,{path:"/restaurant/:id",render:function(e){return Object(s.jsx)(Q,Object(l.a)({},e))}}),Object(s.jsx)(j.a,{exact:!0,path:"/order-process",component:le}),Object(s.jsx)(j.a,{exact:!0,path:"/user-details",component:de}),Object(s.jsx)(j.a,{exact:!0,path:"/checkout",component:ae}),Object(s.jsx)(j.a,{excat:!0,path:"/signup",component:ue}),Object(s.jsx)(j.a,{excat:!0,path:"/login",component:oe}),Object(s.jsx)(j.a,{path:"/",component:k})]}),Object(s.jsx)(S,{})]})})}var Oe=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,90)).then((function(t){var c=t.getCLS,s=t.getFID,n=t.getFCP,r=t.getLCP,a=t.getTTFB;c(e),s(e),n(e),r(e),a(e)}))},he=(c(88),c(17)),pe=c(41),fe={cart:[],cartItems:0};var xe=Object(he.c)({restaurantReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_RESTAURANTS":return Object(l.a)(Object(l.a)({},e),{},{restaurants:t.restaurants});case"SET_RESTAURANT":return Object(l.a)(Object(l.a)({},e),{},{restaurant:t.restaurant});default:return e}},cartReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CART":return Object(l.a)(Object(l.a)({},e),{},{cart:t.products});case"SET_ITEMS_NUM":return Object(l.a)(Object(l.a)({},e),{},{cartItems:t.num});default:return e}},userReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":return Object(l.a)(Object(l.a)({},e),{},{user:t.user});case"SET_LOGIN":return Object(l.a)(Object(l.a)({},e),{},{isLoggedIn:t.val});case"LOGOUT":return Object(l.a)(Object(l.a)({},e),{},{user:null});default:return e}}}),me=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||he.d,ve=Object(he.e)(xe,me(Object(he.a)(pe.a)));i.a.render(Object(s.jsx)(r.a.StrictMode,{children:Object(s.jsx)(o.a,{store:ve,children:Object(s.jsx)(be,{})})}),document.getElementById("root")),Oe()}},[[89,1,2]]]);
//# sourceMappingURL=main.80c65d84.chunk.js.map