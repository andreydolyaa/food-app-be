{"version":3,"sources":["services/restaurantService.js","store/actions/restaurantActions.js","cmps/RestPreview/RestPreview.jsx","cmps/RestList/RestList.jsx","assets/img/res.jpg","cmps/HeroImg/HeroImg.jsx","cmps/Search/Search.jsx","services/customHooks.js","pages/HomePage/HomePage.jsx","store/actions/cartActions.js","cmps/Cart/Cart.jsx","services/userService.js","store/actions/userActions.js","cmps/AppHeader/AppHeader.jsx","store/reducers/restaurantReducer.js","cmps/RestFeatures/RestFeatures.jsx","cmps/Msg/Msg.jsx","services/utilService.js","cmps/RestMenu/RestMenu.jsx","cmps/AppFooter/AppFooter.jsx","pages/RestDetails/RestDetails.jsx","cmps/Scroll/Scroll.jsx","services/orderService.js","store/reducers/userReducer.js","pages/Checkout/Checkout.jsx","assets/img/ba35a8698540a7984ef78f470559aa31.gif","cmps/RedirectPage/RedirectPage.jsx","pages/Signup/Signup.jsx","assets/img/comment.svg","pages/Login/Login.jsx","pages/UserDetails/UserDetails.jsx","pages/CreateRestaurant/CreateRestaurant.jsx","cmps/LoadingCreate/LoadingCreate.jsx","pages/About/About.jsx","assets/img/icons/gmail.png","assets/img/icons/github.png","assets/img/icons/linkedin.png","pages/Contact/Contact.jsx","App.jsx","reportWebVitals.js","store/reducers/cartReducer.js","store/index.js","index.js"],"names":["BASE_URL","restaurantService","query","getById","addNewRestaurant","updateRestaurant","filterBy","a","axios","get","res","searchKey","data","filter","rest","name","toLowerCase","includes","id","restaurant","post","put","_id","loadRestaurants","dispatch","restaurants","type","RestPreview","className","src","place_img","description","to","RestList","map","HeroImg","history","useHistory","onClick","window","scrollTo","push","img","Search","props","initialState","cb","useState","fields","setFields","useEffect","event","value","target","useForm","onSetFilter","setFilterBy","console","log","htmlFor","onChange","HomePage","useDispatch","useSelector","state","restaurantReducer","loadCart","products","setNumOfItems","num","setTotalPrice","price","Cart","setPrice","itemDeleted","setItemDeleted","cartReducer","cart","totalPrice","reduce","acc","curr","closeCart","close","product","index","dish","interval","setInterval","clearInterval","prods","idx","findIndex","dishId","splice","length","deleteItemFromCart","class","pathname","BASE_URL_USER","userService","signup","login","logout","getUserByEmail","updatePurchaseHistory","updateUserDetails","email","users","find","user","sessionStorage","purchase","moment","format","_changeKey","orders","obj","oldName","newName","userId","userDetails","_handleLogin","clear","setItem","JSON","stringify","loadUser","AppHeader","showCart","setShowCart","mobileMenu","setMobileMenu","cartItems","userReducer","addEventListener","cartToggle","username","INITIAL_STATE","RestFeatures","place_features","accessible","smoking","outside","airConitioner","specialEvents","preOrderSeats","takeAway","deliveries","Msg","dishes","setDish","utilService","createId","result","characters","charactersLength","i","charAt","Math","floor","random","RestMenu","setDishes","showMsg","setMsg","numOfDishes","counter","forEach","currDish","toggleMsg","menu","amount","addDish","removeDish","dishe","val","addToCart","AppFooter","href","RestDetails","match","params","location","phone","opening_hours","day","Object","keys","values","withRouter","unlisten","listen","orderService","submitOrder","orderDetails","fullDetails","localLoggedInUser","parse","isLoggedIn","Checkout","register","handleSubmit","onSubmit","required","ref","placeholder","RedirectPage","loading","Signup","Login","isSigned","setSigned","signed","setOk","userByEmail","UserDetails","ownerOf","puarchase","restName","order","CreateRestaurant","reset","registerDish","handleSubmitDish","registerFeature","handleSubmitFeatures","features","setFeatures","currRest","setCurrRest","userRest","submitForm","updateUser","isOwner","ev","LoadingCreate","setRestaurant","setMenu","publish","setPublish","done","setDone","About","Contact","gmail","github","linkedin","App","path","render","exact","component","excat","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","menuCart","rootReducer","combineReducers","action","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.12881ff3.chunk.js","sourcesContent":["\r\nimport axios from 'axios';\r\n\r\n// const BASE_URL = 'http://localhost:3001/api/restaurants';\r\n\r\nconst BASE_URL = process.env.NODE_ENV === 'production'\r\n    ? '/api/restaurants'\r\n    : 'http://localhost:3001/api/restaurants'\r\n\r\n\r\n\r\n\r\nexport const restaurantService = {\r\n    query,\r\n    getById,\r\n    addNewRestaurant,\r\n    updateRestaurant\r\n}\r\n\r\nasync function query(filterBy) {\r\n    const res = await axios.get(BASE_URL);\r\n    if (filterBy.searchKey) {\r\n        return res.data.filter(rest => rest.name.toLowerCase().includes(filterBy.searchKey.toLowerCase()));\r\n    }\r\n    return res.data;\r\n}\r\n\r\nasync function getById(id) {\r\n    const res = await axios.get(`${BASE_URL}/${id}`);\r\n    return res.data;\r\n}\r\n\r\nasync function addNewRestaurant(restaurant) {\r\n    await axios.post(`${BASE_URL}`, restaurant);\r\n}\r\n\r\nasync function updateRestaurant(restaurant) {\r\n    await axios.put(`${BASE_URL}/${restaurant._id}`, restaurant);\r\n}\r\n\r\n\r\n// async function query(filterBy) {\r\n//     if (filterBy.searchKey === null) {\r\n//         const res = await axios.get(BASE_URL);\r\n//         return res.data.filter(rest => rest.name === filterBy.searchKey);\r\n//     }\r\n//     else {\r\n//         const res = await axios.get(BASE_URL);\r\n//         return res.data;\r\n//     }\r\n// }\r\n// async function query(filterBy) {\r\n//     const res = await axios.get(BASE_URL);\r\n//     var result;\r\n//     if (filterBy.searchKey) {\r\n//         result = res.data.filter(rest => rest.name === filterBy);\r\n//     }\r\n//     else {\r\n//         result = res.data;\r\n//     }\r\n//     return result;\r\n// }\r\n// if (filterBy) {\r\n//     return res.data.filter(rest => rest.name === filterBy.name);\r\n// }\r\n// else {\r\n//     return res.data;\r\n// }\r\n","\r\nimport { restaurantService } from './../../services/restaurantService';\r\n\r\n\r\n\r\nexport function loadRestaurants(filterBy) {\r\n    return async dispatch => {\r\n        const restaurants = await restaurantService.query(filterBy);\r\n        dispatch({ type: 'SET_RESTAURANTS', restaurants });\r\n    }\r\n}\r\n\r\n\r\nexport function loadRestaurant(id) {\r\n    return async dispatch => {\r\n        const restaurant = await restaurantService.getById(id);\r\n        dispatch({ type: 'SET_RESTAURANT', restaurant });\r\n    }\r\n}","\r\nimport './RestPreview.scss';\r\nimport React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\nexport function RestPreview({ rest }) {\r\n    return (\r\n        <div className=\"rest-preview\">\r\n            <li>\r\n                <h2>{rest.name}</h2>\r\n                <img src={rest.place_img}></img>\r\n                <div className=\"order-btn\">\r\n                    <p>{rest.description}</p>\r\n                    <Link to={`/restaurant/${rest._id}`}>\r\n                        <button>Visit</button>\r\n                    </Link>\r\n                </div>\r\n            </li>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n","\r\n\r\nimport './RestList.scss';\r\nimport React from 'react';\r\nimport { RestPreview } from './../RestPreview/RestPreview';\r\n\r\n\r\n\r\nexport function RestList({ restaurants }) {\r\n    return (\r\n        <ul className=\"rest-list\">\r\n            {restaurants.map(rest => <RestPreview rest={rest} key={rest._id} />)}\r\n        </ul>\r\n    )\r\n}\r\n\r\n\r\n","export default __webpack_public_path__ + \"static/media/res.5c20c442.jpg\";","\r\nimport './HeroImg.scss';\r\nimport React from 'react';\r\nimport img from '../../assets/img/res.jpg';\r\nimport { Link, useHistory } from 'react-router-dom';\r\n\r\nexport function HeroImg() {\r\n    const history = useHistory();\r\n    const moveTo = () => {\r\n        history.push('/restaurant-register');\r\n    }\r\n    const showRests = () => {\r\n        window.scrollTo(600, 600);\r\n    }\r\n    return (\r\n        <div className=\"hero-img\">\r\n            <h1></h1>\r\n            <h2><span>FooderPlace</span> All the best restaurants in one place.</h2>\r\n            <button className=\"btn-3\" onClick={showRests}>FOOD NOW</button>\r\n            <button className=\"add-res\" onClick={moveTo}>JOIN</button>\r\n            <img src={img}></img>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n","\r\n\r\nimport React, { useEffect, useState } from 'react';\r\nimport './Search.scss';\r\nimport { useForm } from '../../services/customHooks';\r\n\r\nexport function Search(props) {\r\n    const [filterBy, setFilterBy] = useForm({\r\n        searchKey:''\r\n    }, props.onSetFilter);\r\n\r\n\r\n    useEffect(() => {\r\n        console.log(props);\r\n    }, [])\r\n\r\n\r\n    const { searchKey } = filterBy;\r\n    return <form className=\"search\" >\r\n        <label htmlFor=\"searchKey\">Search:\r\n            <input id=\"searchKey\" name=\"searchKey\" type=\"text\" value={searchKey} onChange={setFilterBy} /><i className=\"fas fa-search\"></i></label>\r\n    </form>\r\n\r\n}\r\n\r\n\r\n","import { useEffect, useState } from \"react\";\r\n\r\nexport function useForm(initialState, cb = function () { }) {\r\n  const [fields, setFields] = useState(initialState);\r\n\r\n  useEffect(() => { cb(fields) }, [fields])\r\n\r\n  return [\r\n    fields,\r\n    function (event) {\r\n      const value = event.target.type === 'number' ? +event.target.value : event.target.value\r\n      setFields({\r\n        ...fields,\r\n        [event.target.name]: value\r\n      });\r\n    },\r\n  ];\r\n}","\r\n\r\nimport './HomePage.scss';\r\nimport React, { useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { loadRestaurants } from './../../store/actions/restaurantActions';\r\nimport { RestList } from './../../cmps/RestList/RestList';\r\nimport { HeroImg } from './../../cmps/HeroImg/HeroImg';\r\nimport { Search } from '../../cmps/Search/Search';\r\n\r\n\r\nexport function HomePage(props) {\r\n    const [filterBy, setFilterBy] = useState(null);\r\n\r\n    const dispatch = useDispatch();\r\n    const restaurants = useSelector(state => state.restaurantReducer.restaurants);\r\n\r\n    useEffect(() => {\r\n        if (filterBy) {\r\n            dispatch(loadRestaurants(filterBy));\r\n        }\r\n        else {\r\n            dispatch(loadRestaurants(restaurants));\r\n        }\r\n    }, [filterBy])\r\n\r\n    const onSetFilter = (filterBy) => {\r\n        setFilterBy(filterBy)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <HeroImg />\r\n            <Search {...props} onSetFilter={onSetFilter} />\r\n            <RestList restaurants={restaurants} />\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n// dispatch(loadRestaurants(restaurants));","\r\nimport { cartService } from './../../services/cartService';\r\n\r\n\r\n\r\nexport function loadCart(products) {\r\n    return dispatch => {\r\n        dispatch({ type: 'SET_CART', products });\r\n    }\r\n}\r\n\r\nexport function setNumOfItems(num) {\r\n    return dispatch => {\r\n        dispatch({ type: 'SET_ITEMS_NUM', num });\r\n    }\r\n}\r\n\r\n\r\nexport function setTotalPrice(price) {\r\n    return dispatch => {\r\n        dispatch({ type: 'SET_TOTAL_PRICE', price });\r\n    }\r\n}\r\n\r\nexport function setMenuCart(products) {\r\n    return dispatch => {\r\n        dispatch({ type: 'SET_MENU_CART', products });\r\n    }\r\n}\r\n","\r\n\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport './Cart.scss';\r\nimport { Link } from 'react-router-dom';\r\nimport { loadCart, setNumOfItems } from '../../store/actions/cartActions';\r\nimport { deleteItem, setTotalPrice } from './../../store/actions/cartActions';\r\n\r\n\r\nexport function Cart(props) {\r\n    const [prods, setProds] = useState([]);\r\n    const [price, setPrice] = useState(0);\r\n    const [itemDeleted, setItemDeleted] = useState(false);\r\n    const products = useSelector(state => state.cartReducer.cart);\r\n    const dispatch = useDispatch();\r\n\r\n\r\n    const totalPrice = useSelector(state => state.cartReducer.totalPrice);\r\n\r\n\r\n    useEffect(() => {\r\n        var res = products.reduce((acc, curr) => acc + curr.price, 0);\r\n        setPrice(res);\r\n        dispatch(setTotalPrice(res));\r\n    }, [price])\r\n\r\n\r\n    const closeCart = () => {\r\n        props.close();\r\n    }\r\n\r\n    const deleteItemFromCart = (dish) => {\r\n        setItemDeleted(true);\r\n        var interval;\r\n        interval = setInterval(() => {\r\n            setItemDeleted(false);\r\n            clearInterval(interval);\r\n        }, 1000)\r\n        const prods = [...products];\r\n        const idx = prods.findIndex(product => product.dishId === dish);\r\n        prods.splice(idx, 1);\r\n        var res = prods.reduce((acc, curr) => acc + curr.price, 0);\r\n        setPrice(res);\r\n        dispatch(setNumOfItems(prods.length));\r\n        dispatch(loadCart(prods));\r\n    }\r\n\r\n\r\n    return products && (\r\n        <div className=\"cart\">\r\n            <div className=\"close-cart\">\r\n                <h3>Your order list -</h3>\r\n                {itemDeleted &&\r\n                    <p className=\"item-deleted\">Item Deleted!</p>}\r\n                <i onClick={closeCart} className=\"fas fa-times\"></i>\r\n            </div>\r\n            <ul>\r\n                {\r\n                    products.map((product, index) => {\r\n                        return (\r\n                            <li key={index}>\r\n                                <p>{product.name}</p>\r\n                                <div className=\"price-del\">\r\n                                    <p>${product.price}</p>\r\n                                    <p onClick={() => deleteItemFromCart(product.dishId)}><i class=\"far fa-trash-alt\"></i></p>\r\n                                </div>\r\n                            </li>\r\n                        )\r\n                    })\r\n                }\r\n                {products.length > 0 &&\r\n                    <div className=\"done\">\r\n                        <Link onClick={closeCart} className=\"to-checkout\" to={{\r\n                            pathname: '/checkout',\r\n                            totalPrice,\r\n                            props\r\n                        }}>Proceed to checkout</Link>\r\n                        <p>Total: ${totalPrice}</p>\r\n                    </div>\r\n                }\r\n                {products.length === 0 &&\r\n                    <div className=\"empty-cart\">\r\n                        <h4>Your cart is empty <i className=\"fas fa-shopping-cart\"></i></h4>\r\n                        <Link onClick={closeCart} className=\"find-res\" to=\"/\">Find your favorite restaurant</Link>\r\n                    </div>\r\n                }\r\n            </ul>\r\n\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\n\r\n","\r\n\r\nimport axios from 'axios';\r\nimport moment from 'moment';\r\n// const BASE_URL = 'http://localhost:3001/api/auth';\r\n\r\n\r\nconst BASE_URL = process.env.NODE_ENV === 'production'\r\n    ? '/api/auth'\r\n    : 'http://localhost:3001/api/auth'\r\n\r\nconst BASE_URL_USER = process.env.NODE_ENV === 'production'\r\n    ? '/api/user'\r\n    : 'http://localhost:3001/api/user'\r\n\r\nexport const userService = {\r\n    signup,\r\n    login,\r\n    query,\r\n    getById,\r\n    logout,\r\n    getUserByEmail,\r\n    updatePurchaseHistory,\r\n    updateUserDetails\r\n}\r\n\r\n\r\n\r\nasync function query() {\r\n    return await axios.get(BASE_URL_USER);\r\n}\r\n\r\nasync function getUserByEmail(email) {\r\n    const users = await query();\r\n    const res = users.data.find(user => user.email === email);\r\n    if (sessionStorage.user === \"\") return null\r\n    else return res;\r\n}\r\n\r\n\r\nasync function updatePurchaseHistory(user, purchase, restaurant, totalPrice) {\r\n    purchase.push(moment().format(\"dddd, MMMM Do YYYY, h:mm:ss a\"));\r\n    purchase.push(totalPrice);\r\n    _changeKey(restaurant, \"name\", \"restName\");\r\n    purchase.push(restaurant)\r\n    user.orders.push(purchase);\r\n    return await axios.put(`${BASE_URL_USER}/${user._id}`, user);\r\n}\r\n\r\nasync function updateUserDetails(user) {\r\n    return await axios.put(`${BASE_URL_USER}/${user._id}`, user);\r\n}\r\n\r\n\r\nfunction _changeKey(obj, oldName, newName) {\r\n    obj[newName] = obj[oldName];\r\n    delete obj[oldName];\r\n}\r\n\r\n\r\nasync function getById(userId) {\r\n    return await axios.get(`${BASE_URL_USER}/${userId}`);\r\n}\r\n\r\n\r\nasync function login(userDetails) {\r\n    const user = await axios.post(`${BASE_URL}/login`, userDetails);\r\n    return _handleLogin(user.data);\r\n}\r\n\r\nasync function signup(userDetails) {\r\n    userDetails.orders = [];\r\n    await axios.post(`${BASE_URL}/signup`, userDetails);\r\n    // return _handleLogin(user.data);\r\n}\r\n\r\nasync function logout() {\r\n    await axios.post(`${BASE_URL}/logout`);\r\n    sessionStorage.clear();\r\n}\r\n\r\n\r\nfunction _handleLogin(user) {\r\n    sessionStorage.setItem('user', JSON.stringify(user));\r\n    return user;\r\n}\r\n\r\n\r\nfunction _createUser() {\r\n    return {\r\n        fullName: '',\r\n        email: '',\r\n        password: '',\r\n        orders: []\r\n    }\r\n}\r\n","import { userService } from \"../../services/userService\"\r\n\r\n\r\nexport function loadUser(userId) {\r\n    return async dispatch => {\r\n        console.log('ACTION USRR ID ,', userId);\r\n        const user = await userService.getById(userId);\r\n        console.log('ACTION USER GETBYID', user.data);\r\n        dispatch({ type: 'SET_USER', user: user.data });\r\n    }\r\n}\r\n\r\nexport function setLoggedIn(val) {\r\n    return dispatch => {\r\n        dispatch({ type: 'SET_LOGIN', val })\r\n    }\r\n}\r\n\r\nexport function logoutUser() {\r\n    return dispatch => {\r\n        dispatch({ type: 'LOGOUT' });\r\n    }\r\n}\r\n\r\n","\r\nimport './AppHeader.scss';\r\nimport React, { useEffect, useState } from 'react'\r\nimport { Link, NavLink, Redirect, useHistory, useLocation } from 'react-router-dom';\r\nimport { Cart } from '../Cart/Cart';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { userService } from '../../services/userService';\r\nimport { loadUser, setLoggedIn, logoutUser } from './../../store/actions/userActions';\r\n\r\n\r\n\r\n\r\nexport function AppHeader(props) {\r\n    var [showCart, setShowCart] = useState(false);\r\n    var [mobileMenu, setMobileMenu] = useState(false);\r\n    const history = useHistory();\r\n\r\n\r\n    const cartItems = useSelector(state => state.cartReducer.cartItems);\r\n    const user = useSelector(state => state.userReducer.user);\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        console.log(props);\r\n        window.addEventListener('scroll', () => setMobileMenu(false));\r\n    }, [])\r\n\r\n    const cartToggle = () => {\r\n        setShowCart(showCart = !showCart);\r\n    }\r\n\r\n    const close = () => {\r\n        setShowCart(false);\r\n    }\r\n\r\n    const logout = () => {\r\n        userService.logout();\r\n        dispatch(logoutUser());\r\n    }\r\n\r\n    const openMobileMenu = () => {\r\n        setMobileMenu(mobileMenu = !mobileMenu);\r\n    }\r\n\r\n    const cartToggleR = () => {\r\n\r\n    }\r\n\r\n    const toMain = () => {\r\n        history.push('/');\r\n    }\r\n\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"app-header\">\r\n                <div onClick={toMain} className=\"logo\">\r\n                    <h1>fooder<span>Place</span></h1>\r\n                </div>\r\n                <div className=\"links\">\r\n                    <NavLink to=\"/about\">About</NavLink>\r\n                    <NavLink to=\"/\">Restaurants</NavLink>\r\n\r\n                    <NavLink to=\"/contact\">Contact</NavLink>\r\n                    <NavLink className=\"reg-res\" to=\"restaurant-register\">Publish</NavLink>\r\n                </div>\r\n                {!user &&\r\n                    <div className=\"user-icons\">\r\n                        <div className=\"cart-num\">{cartItems}</div>\r\n                        <i onClick={cartToggle} className=\"fas fa-shopping-bag\"></i>\r\n                        <i className=\"fas fa-search\"></i>\r\n                        <Link className=\"sign\" to=\"/login\">Sign In</Link>\r\n                        <p>|</p>\r\n                        <Link className=\"sign\" to=\"/signup\">Register</Link>\r\n                    </div>\r\n                }\r\n                {user && user &&\r\n                    <div className=\"logged-user\">\r\n                        <div className=\"ics\">\r\n                            <div className=\"cart-num\">{cartItems}</div>\r\n                            <i onClick={cartToggle} className=\"fas fa-shopping-bag\"></i>\r\n                        </div>\r\n                        <Link className=\"user-profile\" to=\"/user-details\"><p>Hi, {user.username}<i className=\"fas fa-user-circle\"></i></p></Link>\r\n                        <Link className=\"logout\" to=\"/\"><p onClick={logout}>Logout <i className=\"fas fa-sign-out-alt\"></i></p></Link>\r\n                    </div>\r\n                }\r\n                {showCart && <Cart close={close} />}\r\n                <div className=\"bars-btn\">\r\n                <div className=\"cart-num\">{cartItems}</div>\r\n                    <button className=\"bag\"><i  onClick={cartToggle} className=\"fas fa-shopping-bag\"></i></button>\r\n                    <button onClick={openMobileMenu}><i className=\"fas fa-bars\"></i></button>\r\n                </div>\r\n            </div>\r\n\r\n\r\n\r\n\r\n            <div className={mobileMenu ? 'show mobile-nav' : 'hide mobile-nav'}>\r\n                <div className=\"mobile-links\">\r\n                    <NavLink to=\"/about\">About</NavLink>\r\n                    <NavLink to=\"/\">Restaurants</NavLink>\r\n\r\n                    <NavLink to=\"/contact\">Contact</NavLink>\r\n                    <NavLink to=\"restaurant-register\">Publish</NavLink>\r\n                </div>\r\n                <div className=\"mobile-login\">\r\n                    {!user &&\r\n                        <div className=\"user-icons\">\r\n                            <div className=\"cart-num\">{cartItems}</div>\r\n                            <i onClick={cartToggle} className=\"fas fa-shopping-bag\"></i>\r\n                            <Link className=\"sign\" to=\"/login\">Sign In</Link>\r\n                            <p>|</p>\r\n                            <Link className=\"sign\" to=\"/signup\">Register</Link>\r\n                        </div>\r\n                    }\r\n                    {user && user &&\r\n                        <div className=\"logged-user\">\r\n                            <div className=\"ics\">\r\n                                <div className=\"cart-num\">{cartItems}</div>\r\n                                <i onClick={cartToggle} className=\"fas fa-shopping-bag\"></i>\r\n                            </div>\r\n                            <Link className=\"user-profile\" to=\"/user-details\"><p>Hi, {user.username}<i className=\"fas fa-user-circle\"></i></p></Link>\r\n                            <Link className=\"logout\" to=\"/\"><p onClick={logout}>Logout <i className=\"fas fa-sign-out-alt\"></i></p></Link>\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </div>\r\n\r\n\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\n// style={{display: mobileMenu ? 'block' : 'none'}}\r\n// <div className=\"mobile-header\" style={{ display: mobileMenu ? 'flex' : 'none' }} >\r\n//                     <MobileMenu closeMobileMenu={openMobileMenu} />\r\n//             </div>","\r\nconst INITIAL_STATE = {\r\n    restaurants: [],\r\n    restaurant: null,\r\n}\r\n\r\nexport function restaurantReducer(state = INITIAL_STATE, action) {\r\n    switch (action.type) {\r\n        case 'SET_RESTAURANTS':\r\n            return {\r\n                ...state,\r\n                restaurants: action.restaurants\r\n            }\r\n        case 'SET_RESTAURANT':\r\n            return {\r\n                ...state,\r\n                restaurant: action.restaurant\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}","\r\nimport './RestFeatures.scss';\r\nimport React from 'react'\r\n\r\nexport function RestFeatures({ restaurant }) {\r\n    if (!restaurant) return <div></div>;\r\n    return (\r\n        <div className=\"rest-features\">\r\n            {restaurant.place_features.accessible ? <p className={restaurant.place_features.accessible ? 'allowed' : 'notAllowed'}><i className=\"fas fa-wheelchair\"></i> Restaurant is accessible</p> : null}\r\n            {restaurant.place_features.smoking === false ? <p className={restaurant.place_features.smoking === false ? 'notAllowed' : 'allowed'}><i className=\"fas fa-smoking-ban\"></i> Smoking is not allowed</p> : null}\r\n            {restaurant.place_features.outside ? <p className={restaurant.place_features.outside ? 'allowed' : 'notAllowed'}><i className=\"fas fa-tree\"></i> Sitting outside</p> : null}\r\n            {restaurant.place_features.airConitioner ? <p className={restaurant.place_features.airConitioner ? 'allowed' : 'notAllowed'}><i className=\"fas fa-thermometer-three-quarters\"></i> Air conditioning</p> : null}\r\n            {restaurant.place_features.specialEvents ? <p className={restaurant.place_features.specialEvents ? 'allowed' : 'notAllowed'}><i className=\"far fa-calendar-alt\"></i> Special Events</p> : null}\r\n            {restaurant.place_features.preOrderSeats ? <p className={restaurant.place_features.preOrderSeats ? 'allowed' : 'notAllowed'}><i className=\"fas fa-phone\"></i> Preorder table/s is possible</p> : null}\r\n            {restaurant.place_features.takeAway ? <p className={restaurant.place_features.takeAway ? 'allowed' : 'notAllowed'}><i className=\"fas fa-box\"></i> Take away</p> : null}\r\n            {restaurant.place_features.deliveries ? <p className={restaurant.place_features.deliveries ? 'allowed' : 'notAllowed'}><i className=\"fas fa-shipping-fast\"></i> Home deliveries</p> : null}\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n","\r\nimport './Msg.scss';\r\nimport React, { useEffect, useState } from 'react'\r\nimport { useSelector } from 'react-redux';\r\n\r\nexport function Msg({ dishes }) {\r\n    const [dish, setDish] = useState('');\r\n\r\n\r\n    useEffect(() => {\r\n        if (dishes.length === 1) {\r\n            setDish(dishes[0].name);\r\n        }\r\n\r\n        if (dishes.length > 1) {\r\n            var res = dishes[dishes.length - 1];\r\n            setDish(res.name);\r\n        }\r\n    }, [])\r\n\r\n    return (\r\n        <div className=\"msg\">\r\n            <p>{dish} Added!</p>\r\n        </div>\r\n    )\r\n}\r\n\r\n","\r\n\r\nexport const utilService = {\r\n    createId\r\n}\r\n\r\nfunction createId(length) {\r\n    var result = '';\r\n    var characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n    var charactersLength = characters.length;\r\n    for (var i = 0; i < length; i++) {\r\n        result += characters.charAt(Math.floor(Math.random() * charactersLength));\r\n    }\r\n    return result;\r\n}","\r\nimport './RestMenu.scss';\r\nimport React, { useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { loadCart, setNumOfItems } from '../../store/actions/cartActions';\r\nimport { Msg } from '../Msg/Msg';\r\nimport { utilService } from './../../services/utilService';\r\nimport { setTotalPrice } from './../../store/actions/cartActions';\r\n\r\n\r\n\r\nexport function RestMenu({ restaurant }) {\r\n    const [dishes, setDishes] = useState([]);\r\n    var [showMsg, setMsg] = useState(false);\r\n    var [totalProdsPrice, setTotalProdsPrice] = useState(0);\r\n    const dispatch = useDispatch();\r\n    var interval;\r\n\r\n\r\n    const cart = useSelector(state => state.cartReducer.cart);\r\n\r\n\r\n    useEffect(() => {\r\n        setDishes(cart);\r\n    }, [cart])\r\n\r\n    const addDish = (dish) => {\r\n        dishes.push(dish);\r\n        setDishes(dishes)\r\n    }\r\n    const removeDish = (dish) => {\r\n        const idx = dishes.findIndex(currDish => currDish.name === dish.name);\r\n        if (idx !== -1) dishes.splice(idx, 1);\r\n        setDishes(dishes);\r\n    }\r\n\r\n    const numOfDishes = (dish) => {\r\n        var counter = 0;\r\n        dishes.forEach(currDish => currDish.name === dish.name ? counter++ : null);\r\n        return counter;\r\n    }\r\n\r\n    const addToCart = (dishe) => {\r\n        dishes.forEach(dish => dish.dishId = utilService.createId(10));\r\n        var totalPrice = dishes.reduce((acc, val) => acc += val.price, 0);\r\n        dispatch(loadCart(dishes));\r\n        dispatch(setNumOfItems(dishes.length));\r\n        dispatch(setTotalPrice(totalPrice));\r\n        toggleMsg();\r\n    }\r\n\r\n    const toggleMsg = () => {\r\n        setMsg(true);\r\n        interval = setInterval(() => {\r\n            setMsg(false);\r\n            clearInterval(interval);\r\n        }, 2000);\r\n    }\r\n\r\n\r\n    if (!restaurant) return <div></div>;\r\n    return (\r\n        <ul className=\"rest-menu\">\r\n            {\r\n                restaurant.menu.map((dish, index) => {\r\n                    return (\r\n                        <li key={index}>\r\n                            <div>\r\n                                <h4>{dish.name}</h4>\r\n                                <img src={dish.img}></img>\r\n                                <p>{dish.description}</p>\r\n                            </div>\r\n                            <div className=\"dish-info\">\r\n                                <p>Dish size - {dish.amount}</p>\r\n                                <p>${dish.price} / Serve</p>\r\n                                <div className=\"dish-num\">\r\n                                    <button className=\"add-btn\" onClick={() => addDish(dish)}>\r\n                                        <i className=\"far fa-plus-square\"></i>\r\n                                    </button>\r\n                                    <p>{numOfDishes(dish)}</p>\r\n                                    <button className=\"add-btn\" onClick={() => removeDish(dish)}>\r\n                                        <i className=\"far fa-minus-square\"></i>\r\n                                    </button>\r\n                                </div>\r\n                                <button onClick={() => addToCart(dish)}>add</button>\r\n                            </div>\r\n                        </li>\r\n                    )\r\n                })\r\n            }\r\n            {showMsg && <Msg dishes={dishes} />}\r\n        </ul>\r\n    )\r\n}\r\n","\r\n\r\n\r\nimport React from 'react';\r\nimport './AppFooter.scss';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport function AppFooter() {\r\n    return (\r\n        <div className=\"app-footer\">\r\n            <div>\r\n                <ul>\r\n                    <Link to=\"/about\"><li>About Us</li></Link>\r\n                    <Link to=\"/\"><li>Restaurants</li></Link>\r\n                    <Link to=\"/contact\"><li>Contact Us</li></Link>\r\n                </ul>\r\n            </div>\r\n            <div>\r\n                <ul>\r\n                    <li>Careers</li>\r\n                    <Link to=\"/about\"><li>About Developer</li></Link>\r\n                    <a href=\"https://github.com/andreydolyaa\"><li>More Code</li></a>\r\n                </ul>\r\n            </div>\r\n            <div className=\"social\">\r\n                <ul>\r\n                    <li><a className=\"linkedin\" href=\"https://www.linkedin.com/in/andrey-dolya-250130203/\"><i class=\"fab fa-linkedin-in\"></i>Linkedin</a></li>\r\n                    <li><a className=\"github\" href=\"https://github.com/andreydolyaa\"><i class=\"fab fa-github\"></i>GitHub</a></li>\r\n                    <li><a className=\"facebook\" href=\"https://facebook.com\"><i class=\"fab fa-facebook\"></i>Facebook</a></li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n","\r\n\r\n\r\n\r\nimport React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport './RestDetails.scss';\r\nimport { restaurantReducer } from './../../store/reducers/restaurantReducer';\r\nimport { loadRestaurant } from '../../store/actions/restaurantActions';\r\nimport { RestFeatures } from './../../cmps/RestFeatures/RestFeatures';\r\nimport { RestMenu } from '../../cmps/RestMenu/RestMenu';\r\nimport { AppFooter } from '../../cmps/AppFooter/AppFooter';\r\n\r\nexport function RestDetails(props) {\r\n\r\n    const restaurant = useSelector(state => state.restaurantReducer.restaurant);\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        dispatch(loadRestaurant(props.match.params.id));\r\n    }, [restaurant])\r\n\r\n    return (\r\n        <div className=\"rest-details-main\">\r\n            { restaurant &&\r\n                <div className=\"rest-details\">\r\n                    <div className=\"rest-img\">\r\n                        <img src={restaurant.place_img} />\r\n                    </div>\r\n                    <div className=\"rest-desc\">\r\n                        <h1>{restaurant.name}</h1>\r\n                        <h3>{restaurant.description}</h3>\r\n                        <p>Adress: {restaurant.location}</p>\r\n                        <p>Phone: {restaurant.phone}</p>\r\n                        <p>Opening Hours -</p>\r\n                        {\r\n                            restaurant.opening_hours.map(day => {\r\n                                return (\r\n                                    <p key={Object.keys(day)}>{Object.keys(day)}: {Object.values(day)}</p>\r\n                                )\r\n                            })\r\n                        }\r\n                    </div>\r\n                </div>\r\n            }\r\n\r\n            <RestFeatures restaurant={restaurant} />\r\n            {restaurant &&\r\n                <RestMenu restaurant={restaurant} />\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n","\r\n\r\nimport { useEffect } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nfunction Scroll({ history }) {\r\n  useEffect(() => {\r\n    const unlisten = history.listen(() => {\r\n      window.scrollTo(0, 0);\r\n    });\r\n    return () => {\r\n      unlisten();\r\n    }\r\n  }, []);\r\n\r\n  return (null);\r\n}\r\n\r\nexport default withRouter(Scroll);\r\n\r\n\r\n","\r\n\r\n\r\n\r\nimport axios from 'axios';\r\n// const BASE_URL = 'http://localhost:3001/submitOrder';\r\n\r\nconst BASE_URL = process.env.NODE_ENV === 'production'\r\n    ? '/submitOrder'\r\n    : 'http://localhost:3001/submitOrder'\r\n\r\n\r\nexport const orderService = {\r\n    submitOrder\r\n}\r\n\r\n\r\nasync function submitOrder(userDetails, orderDetails, totalPrice) {\r\n    var fullDetails = {\r\n        userDetails,\r\n        orderDetails,\r\n        totalPrice\r\n    }\r\n    return await axios.post(BASE_URL, fullDetails);\r\n}","\r\n\r\n\r\nvar localLoggedInUser = null;\r\nif (sessionStorage.user) localLoggedInUser = JSON.parse(sessionStorage.user);\r\n\r\nconst INITIAL_STATE = {\r\n    user: localLoggedInUser,\r\n    isLoggedIn: false\r\n}\r\n\r\nexport function userReducer(state = INITIAL_STATE, action) {\r\n    switch (action.type) {\r\n        case 'SET_USER':\r\n            return {\r\n                ...state,\r\n                user: action.user\r\n            }\r\n        case 'SET_LOGIN':\r\n            return {\r\n                ...state,\r\n                isLoggedIn: action.val\r\n            }\r\n        case 'LOGOUT':\r\n            return {\r\n                ...state,\r\n                user: null\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}","\r\n\r\nimport React, { useEffect, useState } from 'react';\r\nimport './Checkout.scss';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { useForm } from 'react-hook-form';\r\nimport { orderService } from './../../services/orderService';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { userService } from '../../services/userService';\r\nimport { userReducer } from './../../store/reducers/userReducer';\r\nimport { loadUser } from './../../store/actions/userActions';\r\nimport { AppFooter } from '../../cmps/AppFooter/AppFooter';\r\n\r\nexport function Checkout(props) {\r\n    const { register, handleSubmit } = useForm();\r\n\r\n    const cart = useSelector(state => state.cartReducer.cart);\r\n    const user = useSelector(state => state.userReducer.user);\r\n    const restaurant = useSelector(state => state.restaurantReducer.restaurant);\r\n    const dispatch = useDispatch();\r\n\r\n\r\n    useEffect(() => {\r\n        if(user) dispatch(loadUser(user._id));\r\n    }, [])\r\n\r\n    const onSubmit = async (data) => {\r\n        orderService.submitOrder(data, cart, props.location.totalPrice);\r\n        if (user) {\r\n            await userService.updatePurchaseHistory(user, cart, restaurant,props.location.totalPrice);\r\n        }\r\n        props.history.push('/order-process');\r\n    }\r\n\r\n    return (\r\n        <div>\r\n        <div className=\"checkout\">\r\n            <div className=\"checkout-ul\">\r\n                <h2>Your Order - </h2>\r\n                {\r\n                    cart.map((dish, index) => {\r\n                        return (\r\n                            <div className=\"checkout-list\" key={index}>\r\n                                <img src={dish.img}></img>\r\n                                <p>{dish.name}</p>\r\n                                <p>${dish.price}</p>\r\n                            </div>\r\n                        )\r\n                    })\r\n                }\r\n                <h3>Total price: ${props.location.totalPrice}</h3>\r\n            </div>\r\n            <form className=\"user-details\" onSubmit={handleSubmit(onSubmit)}>\r\n                <label htmlFor=\"firstName\">First Name:\r\n                <input name=\"firstName\" type=\"text\" required ref={register} /></label>\r\n                <label htmlFor=\"lastName\">Last Name:\r\n                <input name=\"lastName\" type=\"text\" required ref={register} /></label>\r\n                <label htmlFor=\"adress\">Adress:\r\n                <input name=\"adress\" type=\"text\" required ref={register} /></label>\r\n                <label htmlFor=\"email\">Email:\r\n                <input name=\"email\" type=\"text\" required ref={register} /></label>\r\n                <div className=\"card\">\r\n                    <h3>Payment Details</h3>\r\n                    <label htmlFor=\"card\">Card Number:\r\n                <input name=\"card\" type=\"number\" required placeholder=\"Card Number\" ref={register} /></label>\r\n                    <label htmlFor=\"date\">Exp.Date:\r\n                <input name=\"date\" type=\"number\" required placeholder=\"MM/YY\" ref={register} /></label>\r\n                    <label htmlFor=\"ccv\">CCV:\r\n                <input name=\"ccv\" type=\"number\" required placeholder=\"CCV\" ref={register} /></label>\r\n                </div>\r\n                <button>Submit Order</button>\r\n            </form>\r\n            </div>\r\n            </div>\r\n    )\r\n}\r\n\r\n\r\n\r\n\r\n// const [register, setFormData] = useForm({\r\n//         firstName: '',\r\n//         lastName: '',\r\n//         adress: '',\r\n//         email: '',\r\n//         card: null,\r\n//         date: null,\r\n//         ccv: null\r\n//     })","export default __webpack_public_path__ + \"static/media/ba35a8698540a7984ef78f470559aa31.363d2eec.gif\";","\r\n\r\nimport './RedirectPage.scss';\r\nimport React, { useEffect } from 'react';\r\nimport loading from '../../assets/img/ba35a8698540a7984ef78f470559aa31.gif';\r\nimport { useDispatch } from 'react-redux';\r\nimport { loadCart, setNumOfItems } from './../../store/actions/cartActions';\r\n\r\nfunction RedirectPage(props) {\r\n    var interval;\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        dispatch(loadCart([]));\r\n        dispatch(setNumOfItems(0));\r\n        interval = setInterval(() => {\r\n            props.history.push('/');\r\n        }, 3000)\r\n        return () => {\r\n            clearInterval(interval)\r\n        }\r\n    }, [])\r\n    return (\r\n        <div className=\"loading\">\r\n            <h1>Your order is sent, redirecting...</h1>\r\n            <img src={loading}></img>\r\n            <h2></h2>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default RedirectPage\r\n","\r\n\r\n\r\nimport './Signup.scss';\r\nimport React from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport { userService } from './../../services/userService';\r\nimport { loadUser } from '../../store/actions/userActions';\r\nimport { useDispatch } from 'react-redux';\r\n\r\n\r\n\r\n\r\nexport function Signup(props) {\r\n    const { register, handleSubmit } = useForm();\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const onSubmit = async (data) => {\r\n        await userService.signup(data);\r\n        props.history.push('/login');\r\n    }\r\n\r\n    return (\r\n        <div className=\"signup\">\r\n            <div className=\"new-user\"><h2>Register new user</h2></div>\r\n            <form onSubmit={handleSubmit(onSubmit)}>\r\n                <label htmlFor=\"fullName\">* Fullname:\r\n            <input name=\"fullName\" type=\"text\" required ref={register} />\r\n                </label>\r\n                <label htmlFor=\"password\">* Password:\r\n            <input name=\"password\" type=\"password\" required ref={register} />\r\n                </label>\r\n                <label htmlFor=\"email\">* Email:\r\n            <input name=\"email\" type=\"text\" required ref={register} />\r\n                </label>\r\n                <label htmlFor=\"isOwner\" className=\"owner\">Register As Restaurant Owner?\r\n            <input name=\"isOwner\" type=\"checkbox\" ref={register} />\r\n                </label>\r\n                <button>Register</button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n","export default __webpack_public_path__ + \"static/media/comment.b2980a0c.svg\";","\r\nimport './Login.scss';\r\nimport React, { useState } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport { userService } from './../../services/userService';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { loadUser } from './../../store/actions/userActions';\r\nimport loading from '../../assets/img/comment.svg';\r\n\r\nexport function Login(props) {\r\n    const { register, handleSubmit } = useForm();\r\n    const [isSigned, setSigned] = useState(false);\r\n    const [signed, setOk] = useState(false);\r\n    const dispatch = useDispatch();\r\n\r\n    const onSubmit = async (data) => {\r\n        var interval;\r\n        await userService.login(data);\r\n        if (sessionStorage.user !== '\"\"') {\r\n            setOk(true);\r\n            interval = setInterval(async () => {\r\n                setOk(false)\r\n                console.log('SESSION STORAGE ', sessionStorage);\r\n                const userByEmail = await userService.getUserByEmail(data.email);\r\n                dispatch(loadUser(userByEmail._id))\r\n                props.history.push('/');\r\n                clearInterval(interval);\r\n            }, 1500)\r\n        }\r\n        else {\r\n            setSigned(true);\r\n            interval = setInterval(() => {\r\n                setSigned(false)\r\n                clearInterval(interval);\r\n            }, 2000)\r\n            return console.log('wrong pw/un');\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"login\">\r\n            <div className=\"new-user\"><h2>Sign In</h2></div>\r\n            <form onSubmit={handleSubmit(onSubmit)}>\r\n                <label htmlFor=\"email\">* Email:\r\n        <input name=\"email\" type=\"text\" required ref={register} />\r\n                </label>\r\n                <label htmlFor=\"password\">* Password:\r\n            <input name=\"password\" type=\"password\" required ref={register} />\r\n                </label>\r\n                <button>Login</button>\r\n            </form>\r\n            {isSigned &&\r\n                <h3 className=\"wrong-pass\">Wrong Password or Email</h3>}\r\n            {signed &&\r\n                <div className=\"gg\">\r\n                    <h3 className=\"good-pass\">Successfully Logged In</h3>\r\n                    <img src={loading}></img>\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n// const onSubmit = async (data) => {\r\n//     userService.login(data);\r\n//     const userByEmail = await userService.getUserByEmail(data.email);\r\n//     if (!userByEmail) {\r\n//         console.log('No such user');\r\n//         return console.log('wrong pw/un');;\r\n//     }\r\n//     dispatch(loadUser(userByEmail._id))\r\n//     props.history.push('/');\r\n// }","\r\nimport './UserDetails.scss';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { userReducer } from './../../store/reducers/userReducer';\r\nimport { loadUser } from './../../store/actions/userActions';\r\nimport { AppFooter } from '../../cmps/AppFooter/AppFooter';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nexport function UserDetails(props) {\r\n\r\n    const user = useSelector(state => state.userReducer.user);\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n\r\n\r\n    useEffect(() => {\r\n        console.log(props);\r\n        if (user) dispatch(loadUser(user._id));\r\n    }, [])\r\n\r\n    const editRestaurant = () => {\r\n        history.push('/restaurant-register');\r\n    }\r\n\r\n    return (\r\n        <div className=\"user-details\">\r\n            <div className=\"welcome-msg\">\r\n                <h1>Hello, {user.username}!</h1>\r\n                {user.ownerOf && <h1>Your Restaurant - <span>{user.ownerOf} <i onClick={editRestaurant} class=\"far fa-edit\"></i></span></h1>}\r\n            </div>\r\n            {\r\n                user.orders.map((puarchase, idx) => {\r\n                    return (\r\n                        <div className=\"order-list\" key={idx}>\r\n                            <h3>Purchase History</h3>\r\n                            <h4>Purchase Date: {puarchase[puarchase.length - 3]} <span>At: {puarchase[puarchase.length - 1].restName}</span></h4>\r\n                            {puarchase.map((order, idx) => {\r\n                                return order.name && (\r\n                                    <div className=\"order-history\" key={idx}>\r\n                                        <p>{order.name}</p>\r\n                                        <p>${order.price}</p>\r\n                                    </div>\r\n                                )\r\n                            })}\r\n                            <p className=\"total-history\">Total: ${puarchase[puarchase.length - 2]}</p>\r\n                        </div>\r\n                    )\r\n                })\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\n// return (\r\n//     <div className=\"user-details\">\r\n//         <h1>Hello, {user.username}</h1>\r\n//         <h3>Your Purchases - </h3>\r\n//         {\r\n//             user.orders.map(puarchase => {\r\n//                 return (\r\n//                     puarchase.map(order => {\r\n//                         return (\r\n//                             <div className=\"order-history\">\r\n//                             <p>{order.name}</p>\r\n//                             </div>\r\n//                         )\r\n//                     })\r\n//                 )\r\n//             })\r\n//         }\r\n//     </div>\r\n// )\r\n// }\r\n\r\n","\r\n\r\nimport './CreateRestaurant.scss';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport { useSelector } from 'react-redux';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { utilService } from './../../services/utilService';\r\nimport { restaurantService } from '../../services/restaurantService';\r\nimport { userService } from './../../services/userService';\r\n\r\nexport function CreateRestaurant() {\r\n    const { register, handleSubmit, reset } = useForm();\r\n    const { register: registerDish, handleSubmit: handleSubmitDish } = useForm();\r\n    const { register: registerFeature, handleSubmit: handleSubmitFeatures } = useForm();\r\n    const [dishes, setDishes] = useState([]);\r\n    var [features, setFeatures] = useState({});\r\n    var [currRest, setCurrRest] = useState({});\r\n    const history = useHistory();\r\n\r\n    const user = useSelector(state => state.userReducer.user);\r\n    const restaurants = useSelector(state => state.restaurantReducer.restaurants);\r\n\r\n\r\n    useEffect(() => {\r\n        if (user && user.ownerOf) {\r\n            var userRest = restaurants.find(rest => rest.name === user.ownerOf);\r\n            currRest = userRest;\r\n            setCurrRest(currRest);\r\n        }\r\n        console.log('CURREST',Object.keys(currRest).length);\r\n    }, []);\r\n\r\n    const submitForm = async (data) => {\r\n        if (Object.keys(currRest).length === 0) {\r\n            console.log('CURR REST IS EXISTING',currRest);\r\n            var restaurant;\r\n            restaurant = data;\r\n            restaurant.menu = dishes;\r\n            restaurant.place_features = features;\r\n            restaurant.opening_hours = [\r\n                { \"sunday\": \"10AM - 2PM\" }, { \"monday\": \"10AM - 12PM\" }, { \"tuesday\": \"10AM - 12PM\" }, { \"wednesday\": \"10AM - 12PM\" }, { \"thursday\": \"10AM - 2PM\" }, { \"friday\": \"10AM - 2PM\" }, { \"saturday\": \"Closed\" }\r\n            ]\r\n            var updateUser = user;\r\n            updateUser.ownerOf = restaurant.name;\r\n            await userService.updateUserDetails(updateUser);\r\n            await restaurantService.addNewRestaurant(restaurant);\r\n            console.log('RESTAURANT IS ADDED!');\r\n            history.push('/creating');\r\n        }\r\n        else {\r\n            await restaurantService.updateRestaurant(currRest);\r\n            console.log('UPDATED INSTEAD');\r\n            history.push('/creating');\r\n        }\r\n    }\r\n\r\n    const submitDish = (data, ev) => {\r\n        data._id = utilService.createId(10);\r\n        dishes.push(data);\r\n        setDishes(dishes);\r\n        // ev.target.reset();\r\n    }\r\n\r\n    const submitFeatures = (data, ev) => {\r\n        features = data\r\n        setFeatures(features);\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"main-res\">\r\n            {user && user.ownerOf && <h3 className=\"not\">Editing feature is not ready yet.</h3>}\r\n            {user && user.isOwner &&\r\n                <div className=\"finish-create\">\r\n                    <form onSubmit={handleSubmit(submitForm)}><button>Publish Your Restaurant</button></form>\r\n                </div>}\r\n            <div className=\"restaurant-reg\">\r\n                <div className=\"regz\">\r\n                    {user && user.isOwner && currRest &&\r\n                        <form>\r\n                            <h4>Restaurant Basic Details - </h4>\r\n                            <label htmlFor=\"name\">Restaurant Name:\r\n                    <input type=\"text\" name=\"name\" required ref={register} value={currRest.name} /></label>\r\n                            <label htmlFor=\"description\">Restaurant Description:\r\n                    <input type=\"text\" name=\"description\" required ref={register} value={currRest.description} /></label>\r\n                            <label htmlFor=\"phone\">Restaurant Phone Number:\r\n                    <input type=\"text\" name=\"phone\" required ref={register} value={currRest.phone} /></label>\r\n                            <label htmlFor=\"location\">Restaurant Adress:\r\n                    <input type=\"text\" name=\"location\" required ref={register} value={currRest.location} /></label>\r\n                            <label htmlFor=\"place_img\">Restaurant Main Image:\r\n                    <input type=\"text\" name=\"place_img\" required ref={register} placeholder=\"Restaurant Img\" /></label>\r\n                        </form>}\r\n\r\n\r\n                    {user && user.isOwner &&\r\n                        <form className=\"create-new-dish\" onSubmit={handleSubmitDish(submitDish)}>\r\n                            <h4>Add Items To Restaurant Menu - </h4>\r\n                            <label htmlFor=\"name\">Dish name:\r\n                    <input type=\"text\" name=\"name\" required ref={registerDish} /></label>\r\n                            <label htmlFor=\"description\">Dish Description:\r\n                    <input type=\"text\" name=\"description\" required ref={registerDish} /></label>\r\n                            <label htmlFor=\"amount\">Dish Amount(Grams):\r\n                    <input type=\"number\" name=\"amount\" required ref={registerDish} /></label>\r\n                            <label htmlFor=\"price\">Dish Price:\r\n                    <input type=\"number\" name=\"price\" required ref={registerDish} /></label>\r\n                            <label htmlFor=\"img\">Dish Img Link:\r\n                    <input type=\"text\" name=\"img\" required ref={registerDish} /></label>\r\n                            <button>Add Dish To Menu</button>\r\n                        </form>}\r\n\r\n\r\n                    {user && user.isOwner &&\r\n                        <form className=\"create-new-features\" onSubmit={handleSubmitFeatures(submitFeatures)}>\r\n                            <h4>Select Restaurant Features - </h4>\r\n                            <label htmlFor=\"accessible\">Accessible:\r\n                    <input type=\"checkbox\" name=\"accessible\" ref={registerFeature} /></label>\r\n                            <label htmlFor=\"smoking\">Smoking:\r\n                    <input type=\"checkbox\" name=\"smoking\" ref={registerFeature} /></label>\r\n                            <label htmlFor=\"outside\">Outside:\r\n                    <input type=\"checkbox\" name=\"outside\" ref={registerFeature} /></label>\r\n                            <label htmlFor=\"airConitioner\">Air Conitioner:\r\n                    <input type=\"checkbox\" name=\"airConitioner\" ref={registerFeature} /></label>\r\n                            <label htmlFor=\"specialEvents\">Special Events:\r\n                    <input type=\"checkbox\" name=\"specialEvents\" ref={registerFeature} /></label>\r\n                            <label htmlFor=\"preOrderSeats\">Pre order seats:\r\n                    <input type=\"checkbox\" name=\"preOrderSeats\" ref={registerFeature} /></label>\r\n                            <label htmlFor=\"takeAway\">Takeaway:\r\n                    <input type=\"checkbox\" name=\"takeAway\" ref={registerFeature} /></label>\r\n                            <label htmlFor=\"deliveries\">Deliveries:\r\n                    <input type=\"checkbox\" name=\"deliveries\" ref={registerFeature} /></label>\r\n                            <button>Save Features</button>\r\n                        </form>}\r\n                </div>\r\n\r\n                <div className=\"dish-added\">\r\n                    {dishes.map(dish => {\r\n                        return (\r\n                            <div className=\"dish\" key={dish._id}>\r\n                                <img src={dish.img} />\r\n                                <p>ID: {dish._id}</p>\r\n                                <p>Name: {dish.name}</p>\r\n                                <p>Description: {dish.description}</p>\r\n                                <p>Amount: {dish.amount}gr</p>\r\n                                <p>Price: ${dish.price}</p>\r\n                            </div>\r\n                        )\r\n                    })}\r\n                </div>\r\n\r\n                {currRest.menu &&\r\n                    <div className=\"dish-added\">\r\n                        {currRest.menu.map(dish => {\r\n                            return currRest && (\r\n                                <div className=\"dish\" key={dish._id}>\r\n                                    <img src={dish.img} />\r\n                                    <p>ID: {dish._id}</p>\r\n                                    <p>Name: {dish.name}</p>\r\n                                    <p>Description: {dish.description}</p>\r\n                                    <p>Amount: {dish.amount}gr</p>\r\n                                    <p>Price: ${dish.price}</p>\r\n                                </div>\r\n                            )\r\n                        })}\r\n                    </div>}\r\n\r\n\r\n                {!user &&\r\n                    <div className=\"not-logged\">\r\n                        <p>Please <Link to=\"/signup\">Register</Link> as a owner or <Link to=\"/login\">Login</Link> to create a new restaurant</p>\r\n                    </div>\r\n                }\r\n                {user && !user.isOwner &&\r\n                    <div className=\"not-logged\">\r\n                        <p>You have not registred as an restaurant owner, Please <Link to=\"/signup\">Register</Link> as a owner or <Link to=\"/login\">Login</Link> with a different account.</p>\r\n                    </div>\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n// <label htmlFor=\"menu\">Restaurant Menu Items:\r\n//                     <input type=\"text\" name=\"menu\" required ref={register} /></label>\r\n//                     <label htmlFor=\"place_features\">Restaurant Features:\r\n//                     <input type=\"text\" name=\"place_features\" required ref={register} /></label>\r\n// <label htmlFor=\"opening_hours\">Restaurant Opening Hours:\r\n//                     <input type=\"text\" name=\"opening_hours\" required ref={register} /></label>","\r\nimport './LoadingCreate.scss';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport loading from '../../assets/img/ba35a8698540a7984ef78f470559aa31.gif';\r\n\r\n\r\nexport function LoadingCreate() {\r\n    var [restaurant, setRestaurant] = useState(false);\r\n    var [menu, setMenu] = useState(false);\r\n    var [publish, setPublish] = useState(false);\r\n    var [done, setDone] = useState(false);\r\n    const history = useHistory();\r\n    var interval;\r\n    useEffect(() => {\r\n        setRestaurant(true)\r\n        interval = setInterval(() => {\r\n            setRestaurant(false);\r\n            clearInterval(interval);\r\n            if (!restaurant) {\r\n                setMenu(true);\r\n                interval = setInterval(() => {\r\n                    setMenu(false);\r\n                    clearInterval(interval);\r\n                    if (!menu) {\r\n                        setPublish(true)\r\n                        interval = setInterval(() => {\r\n                            setPublish(false)\r\n                            clearInterval(interval);\r\n                            if (!publish) {\r\n                                setDone(true);\r\n                                clearInterval(interval);\r\n                                interval = setInterval(() => {\r\n                                    clearInterval(interval);\r\n                                    history.push('/');\r\n                                }, 1000)\r\n                            }\r\n                        }, 2000);\r\n                    }\r\n                }, 2000)\r\n            }\r\n        }, 2000)\r\n    }, []);\r\n    return (\r\n        <div className=\"creating\">\r\n            {restaurant && <h1>Creating The Restaurant...</h1>}\r\n            {menu && <h1>Creating The Menu...</h1>}\r\n            {publish && <h1>Publishing Your Restaurant...</h1>}\r\n            {done && <h1 className=\"d\">Done!</h1>}\r\n            <img src={loading}></img>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n","\r\n\r\nimport React from 'react';\r\nimport './About.scss';\r\n\r\n\r\n\r\nexport function About() {\r\n    return (\r\n        <div className=\"about\">\r\n            <h2>Fooder Place App</h2>\r\n            <ol>\r\n                <li>In this app you can register as an restaurant owner, and publish your restaurant, your restaurants menu and features, and users can make orders from the restaurant.</li>\r\n                <li>Registration is possible as a basic user or as a restaurant owner.</li>\r\n                <li>Users can select a restaurant and select the dishes from that restaurant, add them to the their cart, or delete items from the cart, checkout, and recieve an email with the order details, orders history also available in the users personal area.</li>\r\n                <li>Restaurant owner can create a restaurant with all the restaurant details including location, contact details, images, meals, features and more.</li>\r\n            </ol>\r\n            <h2>Tools Used in the app</h2>\r\n            <ul>\r\n                <li>React for Frontend</li>\r\n                <li>React Hooks & React Router</li>\r\n                <li>Redux for State Management</li>\r\n                <li>Node.js & Express.js</li>\r\n                <li>MongoDB & Atlas for cloud storage</li>\r\n                <li>HTML5, CSS3 ,Sass for Frontend design and structure</li>\r\n            </ul>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n","export default __webpack_public_path__ + \"static/media/gmail.23d2a9b0.png\";","export default __webpack_public_path__ + \"static/media/github.d3263084.png\";","export default __webpack_public_path__ + \"static/media/linkedin.6892b3ae.png\";","\r\n\r\nimport './Contact.scss';\r\nimport React from 'react';\r\nimport gmail from '../../assets/img/icons/gmail.png';\r\nimport github from '../../assets/img/icons/github.png';\r\nimport linkedin from '../../assets/img/icons/linkedin.png';\r\n\r\nexport function Contact() {\r\n    return (\r\n        <div className=\"contact\">\r\n            <div>\r\n            <h3>Contact me via <a href=\"https://mail.google.com/mail/?view=cm&fs=1&to=dolya7kk@gmail.com\">Gmail</a></h3>\r\n            <a href=\"https://mail.google.com/mail/?view=cm&fs=1&to=dolya7kk@gmail.com\"><img src={gmail}></img></a>\r\n            </div>\r\n            <div>\r\n            <h3>Checkout My <a href=\"https://github.com/andreydolyaa?tab=repositories\">GitHub</a></h3>\r\n            <a href=\"https://github.com/andreydolyaa?tab=repositories\"><img src={github}></img></a>\r\n            </div>\r\n            <div>\r\n            <h3>Contact me via <a href=\"https://www.linkedin.com/in/andrey-dolya-250130203/\">Linkedin</a></h3>\r\n            <a href=\"https://www.linkedin.com/in/andrey-dolya-250130203/\"><img src={linkedin}></img></a>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n","\n\nimport { HashRouter as Router, Redirect, Route, Switch } from 'react-router-dom';\nimport { HomePage } from './pages/HomePage/HomePage';\nimport { AppHeader } from './cmps/AppHeader/AppHeader';\nimport { RestDetails } from './pages/RestDetails/RestDetails';\nimport Scroll from './cmps/Scroll/Scroll';\nimport { Checkout } from './pages/Checkout/Checkout';\nimport RedirectPage from './cmps/RedirectPage/RedirectPage';\nimport { Signup } from './pages/Signup/Signup';\nimport { Login } from './pages/Login/Login';\nimport { UserDetails } from './pages/UserDetails/UserDetails';\nimport { AppFooter } from './cmps/AppFooter/AppFooter';\nimport { CreateRestaurant } from './pages/CreateRestaurant/CreateRestaurant';\nimport { LoadingCreate } from './cmps/LoadingCreate/LoadingCreate';\nimport { About } from './pages/About/About';\nimport { Contact } from './pages/Contact/Contact';\n\n\n\n\nexport function App(props) {\n\n    return (\n        <div className=\"App\">\n            <Router>\n                <AppHeader />\n                <Scroll />\n                <Switch>\n                    <Route path=\"/restaurant/:id\" render={props => <RestDetails {...props} />}></Route>\n                    <Route exact path=\"/order-process\" component={RedirectPage}></Route>\n                    <Route exact path=\"/user-details\" component={UserDetails}></Route>\n                    <Route exact path=\"/restaurant-register\" component={CreateRestaurant}></Route>\n                    <Route exact path=\"/checkout\" component={Checkout}></Route>\n                    <Route exact path=\"/creating\" component={LoadingCreate}></Route>\n                    <Route exact path=\"/about\" component={About}></Route>\n                    <Route exact path=\"/contact\" component={Contact}></Route>\n                    <Route excat path=\"/signup\" component={Signup}></Route>\n                    <Route excat path=\"/login\" component={Login}></Route>\n                    <Route path=\"/\" component={HomePage}></Route>\n                </Switch>\n                <AppFooter />\n            </Router>\n        </div>\n    );\n}\n\n\n\n// <Route path=\"/cart\" component={Cart}></Route>\n\n\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","\r\n\r\nconst INITIAL_STATE = {\r\n    cart: [],\r\n    menuCart: [],\r\n    cartItems: 0,\r\n    idx: 0,\r\n    totalPrice: 0\r\n}\r\n\r\nexport function cartReducer(state = INITIAL_STATE, action) {\r\n    switch (action.type) {\r\n        case 'SET_CART':\r\n            return {\r\n                ...state,\r\n                cart: action.products\r\n            }\r\n        case 'SET_ITEMS_NUM':\r\n            return {\r\n                ...state,\r\n                cartItems: action.num\r\n            }\r\n        case 'SET_TOTAL_PRICE':\r\n            return {\r\n                ...state,\r\n                totalPrice: action.price\r\n            }\r\n        case 'SET_MENU_CART':\r\n            return {\r\n                ...state,\r\n                menuCart: action.products\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}","import { createStore, applyMiddleware, compose, combineReducers } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport { restaurantReducer } from './reducers/restaurantReducer';\r\nimport { cartReducer } from './reducers/cartReducer';\r\nimport { userReducer } from './reducers/userReducer';\r\n\r\n\r\n\r\nconst rootReducer = combineReducers({\r\n    restaurantReducer,\r\n    cartReducer,\r\n    userReducer\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\r\nexport const store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunk)))","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { App } from './App.jsx';\nimport reportWebVitals from './reportWebVitals';\nimport './global.scss';\nimport { Provider } from 'react-redux';\nimport { store } from './store/index';\n\nReactDOM.render(\n    <React.StrictMode>\n        <Provider store={store}>\n            <App />\n        </Provider>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}